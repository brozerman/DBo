language: php
php:
  - 5.4

before_script:
  - pear channel-discover pear.phpunit.de
  - pear install pear/PHP_CodeSniffer >/dev/null
  - phpenv rehash

script:
  - phpunit --coverage-text=test.txt tests/ || echo
  - cat test.txt
  - phpcs --standard=zend --report-width=100 *.php | grep -Ev "\| (Spaces|Line exceeds|Opening brace|Opening parenthesis|Closing parenthesis)|valid camel"

notifications:
  email:
    - thbley@gmail.com
